import { randomUUID } from 'node:crypto';
import path from 'node:path';

import * as dotenv from 'dotenv';
dotenv.config({
  path: path.resolve('./misc/playground/.env'),
});

import sanityClient from '@sanity/client';

const data = {
  '12/09/2022': {
    Ombro: 123.5,
    Peitoral: 108.5,
    Peso: 81.9,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 83,
    Gluteo: 98.5,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38.5,
  },
  '05/09/2022': {
    Ombro: 124,
    Peitoral: 105,
    Peso: 81.85,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 82.5,
    Gluteo: 100,
    'Coxa Direita': 61,
    'Coxa Esquerda': 61,
    'Panturrilha Direita': 37.5,
    'Panturrilha Esquerda': 37.5,
  },
  '29/08/2022': {
    Ombro: 123,
    Peitoral: 104.5,
    Peso: 82.6,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31.5,
    Abdomen: 83.5,
    Gluteo: 99.5,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 61.5,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38.5,
  },
  '22/08/2022': {
    Ombro: 123,
    Peitoral: 105,
    Peso: 82.9,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31.5,
    Abdomen: 83.5,
    Gluteo: 100,
    'Coxa Direita': 60.5,
    'Coxa Esquerda': 60.5,
    'Panturrilha Direita': 37.5,
    'Panturrilha Esquerda': 38,
  },
  '15/08/2022': {
    Ombro: 123,
    Peitoral: 104,
    Peso: 81.7,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 82.5,
    Gluteo: 100,
    'Coxa Direita': 61,
    'Coxa Esquerda': 61.5,
    'Panturrilha Direita': 37,
    'Panturrilha Esquerda': 38,
  },
  '01/08/2022': {
    Ombro: 122,
    Peitoral: 105,
    Peso: 82.4,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 83.5,
    Gluteo: 100,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38.5,
  },
  '25/07/2022': {
    Ombro: 123,
    Peitoral: 83.5,
    Peso: 83.4,
    'Biceps Direito': 41,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31.5,
    Abdomen: 83.5,
    Gluteo: 101,
    'Coxa Direita': 62.5,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38.5,
  },
  '18/07/2022': {
    Ombro: 122,
    Peitoral: 107.5,
    Peso: 83.6,
    'Biceps Direito': 41,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 83,
    Gluteo: 100,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 61.5,
    'Panturrilha Direita': 38.5,
    'Panturrilha Esquerda': 39,
  },
  '11/07/2022': {
    Ombro: 124,
    Peitoral: 106,
    Peso: 83.9,
    'Biceps Direito': 41,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 84,
    Gluteo: 100,
    'Coxa Direita': 61,
    'Coxa Esquerda': 61,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38.5,
  },
  '04/07/2022': {
    Ombro: 122,
    Peitoral: 103.5,
    Peso: 82.2,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 30.5,
    'Antebraço Esquerdo': 30.5,
    Abdomen: 82.5,
    Gluteo: 100,
    'Coxa Direita': 60,
    'Coxa Esquerda': 61,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38,
  },
  '27/06/2022': {
    Ombro: 124,
    Peitoral: 102,
    Peso: 82.35,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 83,
    Gluteo: 99.5,
    'Coxa Direita': 61,
    'Coxa Esquerda': 61,
    'Panturrilha Direita': 38.5,
    'Panturrilha Esquerda': 38.5,
  },
  '20/06/2022': {
    Ombro: 123.5,
    Peitoral: 103,
    Peso: 83.8,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 39.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 85,
    Gluteo: 100,
    'Coxa Direita': 61,
    'Coxa Esquerda': 61,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38,
  },
  '13/06/2022': {
    Ombro: 120.5,
    Peitoral: 102.5,
    Peso: 82.3,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 39.5,
    'Antebraço Direito': 30.5,
    'Antebraço Esquerdo': 30.5,
    Abdomen: 83,
    Gluteo: 100,
    'Coxa Direita': 61,
    'Coxa Esquerda': 60.5,
    'Panturrilha Direita': 37.5,
    'Panturrilha Esquerda': 38,
  },
  '06/06/2022': {
    Ombro: 120,
    Peitoral: 102.5,
    Peso: 81.25,
    'Biceps Direito': 39.5,
    'Biceps Esquerdo': 39,
    'Antebraço Direito': 30,
    'Antebraço Esquerdo': 30.5,
    Abdomen: 82.5,
    Gluteo: 99.5,
    'Coxa Direita': 60,
    'Coxa Esquerda': 60.5,
    'Panturrilha Direita': 37.5,
    'Panturrilha Esquerda': 38,
  },
  '25/04/2022': {
    Ombro: 122,
    Peitoral: 104,
    Peso: 84.2,
    'Biceps Direito': 41,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 85,
    Gluteo: 102,
    'Coxa Direita': 62,
    'Coxa Esquerda': 62.5,
    'Panturrilha Direita': 38.5,
    'Panturrilha Esquerda': 38.5,
  },
  '19/04/2022': {
    Ombro: 122,
    Peitoral: 104,
    Peso: 84.2,
    'Biceps Direito': 41,
    'Biceps Esquerdo': 40.5,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 85,
    Gluteo: 102,
    'Coxa Direita': 62,
    'Coxa Esquerda': 62.5,
    'Panturrilha Direita': 38.5,
    'Panturrilha Esquerda': 38.5,
  },
  '11/04/2022': {
    Ombro: 125,
    Peitoral: 105,
    Peso: 84.5,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31.5,
    Abdomen: 85,
    Gluteo: 101,
    'Coxa Direita': 62,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38,
  },
  '04/04/2022': {
    Ombro: 121.5,
    Peitoral: 104,
    Peso: 83.6,
    'Biceps Direito': 40.5,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 84.4,
    Gluteo: 101.5,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38,
  },
  '28/03/2022': {
    Ombro: 126,
    Peitoral: 103.5,
    Peso: 84.3,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 85.5,
    Gluteo: 102,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 61.5,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 37.5,
  },
  '18/03/2022': {
    Ombro: 123,
    Peitoral: 102,
    Peso: 82.55,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 31,
    Abdomen: 84.4,
    Gluteo: 100.5,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 61,
    'Panturrilha Direita': 37,
    'Panturrilha Esquerda': 37.5,
  },
  '11/03/2022': {
    Ombro: 121.5,
    Peitoral: 104.5,
    Peso: 83.15,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 39.5,
    'Antebraço Direito': 30.5,
    'Antebraço Esquerdo': 30.5,
    Abdomen: 84.5,
    Gluteo: 100,
    'Coxa Direita': 62,
    'Coxa Esquerda': 61.5,
    'Panturrilha Direita': 37,
    'Panturrilha Esquerda': 37,
  },
  '04/03/2022': {
    Ombro: 124,
    Peitoral: 102.5,
    Peso: 83.25,
    'Biceps Direito': 40,
    'Biceps Esquerdo': 40,
    'Antebraço Direito': 31,
    'Antebraço Esquerdo': 30.5,
    Abdomen: 87,
    Gluteo: 101,
    'Coxa Direita': 62.5,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 37.5,
    'Panturrilha Esquerda': 38,
  },
  '25/02/2022': {
    Ombro: 123,
    Peitoral: 102,
    Peso: 83.35,
    'Biceps Direito': 39.5,
    'Biceps Esquerdo': 39.5,
    'Antebraço Direito': 30.5,
    'Antebraço Esquerdo': 31,
    Abdomen: 85.5,
    Gluteo: 101.5,
    'Coxa Direita': 61.5,
    'Coxa Esquerda': 61.5,
    'Panturrilha Direita': 38,
    'Panturrilha Esquerda': 38,
  },
  '17/02/2022': {
    Ombro: 121,
    Peitoral: 103,
    Peso: 82.45,
    'Biceps Direito': 95.5,
    'Biceps Esquerdo': 39,
    'Antebraço Direito': 30.5,
    'Antebraço Esquerdo': 30.5,
    Abdomen: 87,
    Gluteo: 102.5,
    'Coxa Direita': 62,
    'Coxa Esquerda': 62,
    'Panturrilha Direita': 37,
    'Panturrilha Esquerda': 37,
  },
};

const FIELD_DICTIONARY = {
  Ombro: 'shoulders',
  Peitoral: 'chest',
  Peso: 'weight',
  'Biceps Direito': 'biceps_right',
  'Biceps Esquerdo': 'biceps_left',
  'Antebraço Direito': 'forearm_right',
  'Antebraço Esquerdo': 'forearm_left',
  Abdomen: 'abdomen',
  Gluteo: 'glute',
  'Coxa Direita': 'thigh_right',
  'Coxa Esquerda': 'thigh_left',
  'Panturrilha Direita': 'calf_right',
  'Panturrilha Esquerda': 'calf_left',
};

const raulClient = sanityClient({
  projectId: 'gc3hakk3',
  dataset: 'production',
  apiVersion: 'v1',
  useCdn: false,
  token: process.env.RAUL_SANITY_TOKEN,
});

const transactions = raulClient.transaction();

transactions.createOrReplace({
  _id: 'c75d28aa-b3e9-4818-8ea3-ca710965419a',
  _type: 'measurementSchema',
  abdomen: 82,
  biceps_left: 40.5,
  biceps_right: 41,
  bmi: 25.7,
  bmr: 1770,
  body_fat: 21.4,
  body_water: 47.5,
  calf_left: 38,
  calf_right: 38,
  chest: 104.5,
  date: '2022-09-19',
  fat_mass: 17.7,
  forearm_left: 31,
  forearm_right: 31,
  glute: 99,
  shoulders: 123,
  skeletal_muscle: 35.3,
  thigh_left: 62,
  thigh_right: 62,
  weight: 82.5,
});

Object.entries(data).forEach(([date, meas]) => {
  const p = {
    date: date.split('/').reverse().join('-'),
    _id: randomUUID(),
    _type: 'measurementSchema',
  };

  Object.entries(meas).forEach(([field, value]) => {
    const fieldKey = FIELD_DICTIONARY[field];
    p[fieldKey] = value;
  });

  transactions.createOrReplace(p);
});

console.log(await transactions.commit());
